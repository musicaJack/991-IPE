# IPE系统Demo使用说明

## 🚀 快速开始

### 1. 打开系统
直接在浏览器中打开 `index.html` 文件即可启动系统。

### 2. 系统功能

#### 📊 风险驾驶舱
- **KPI指标卡片**: 显示24小时内的高、中、低风险事件数量
- **风险趋势**: 显示周环比变化率
- **环形图**: 风险等级分布可视化
- **折线图**: 7天风险趋势分析

#### 📋 数据管理
- **告警记录**: 管理风险告警事件（主要功能）
- **用户身份**: 管理用户身份信息
- **基线资产**: 管理基线资产数据
- **风险规则**: 配置风险检测规则

## 🎯 核心功能演示

### 数据联动演示
1. 点击"告警记录"标签页
2. 点击"添加记录"按钮
3. 填写告警信息（风险等级、通知渠道、发送状态、发生时间）
4. 点击"保存"按钮
5. 观察左侧驾驶舱的实时更新

### 图表交互
- **点击环形图**: 高亮显示对应风险等级的表格记录
- **点击折线图**: 查看特定日期的详细信息

## ⌨️ 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + R` | 刷新驾驶舱 |
| `Ctrl/Cmd + N` | 添加新记录 |
| `Ctrl/Cmd + D` | 生成模拟数据 |
| `Esc` | 取消编辑 |

## 🔧 系统功能

### 数据持久化
- 所有数据自动保存到浏览器本地存储
- 刷新页面后数据不会丢失
- 支持数据重置功能

### 响应式设计
- 支持桌面和移动设备
- 自适应不同屏幕尺寸
- 触摸友好的交互界面

### 错误处理
- 完善的错误提示机制
- 自动错误日志记录
- 优雅的降级处理

## 📁 项目结构

```
991-IPE/
├── index.html          # 主页面
├── css/
│   ├── style.css       # 主样式文件
│   ├── ant-design.css  # Ant Design风格样式
│   └── dashboard.css   # 驾驶舱专用样式
├── js/
│   ├── data-storage.js # 数据存储模块
│   ├── risk-engine.js  # 风险计算引擎
│   ├── dashboard.js    # 驾驶舱模块
│   ├── table.js        # 表格管理模块
│   └── main.js         # 主控制器
└── README.md           # 项目说明
```

## 🛠️ 技术栈

- **前端**: HTML5 + CSS3 + JavaScript (原生)
- **图表**: Chart.js
- **样式**: 自定义Ant Design风格
- **存储**: localStorage
- **图标**: Emoji + CSS图标

## 🎨 设计特色

### 专业安全平台风格
- 深蓝色主色调 (#001529)
- 科技感设计元素
- 专业的数据可视化
- 清晰的信息层次

### 交互体验
- 流畅的动画效果
- 直观的操作反馈
- 智能的数据验证
- 友好的错误提示

## 📊 数据模型

### 告警记录结构
```javascript
{
  id: "alarm_1234567890",
  riskLevel: "high|medium|low",
  notifyChannel: "微信|短信|邮件",
  status: "success|failed",
  timestamp: "2025-01-16T10:30:00.000Z",
  createdAt: "2025-01-16T10:30:00.000Z"
}
```

### 风险计算规则
- **24小时统计**: 最近24小时内的事件数量
- **周环比**: 本周与上周的事件数量对比
- **趋势分析**: 最近7天的数据趋势

## 🔍 调试功能

### 控制台命令
```javascript
// 获取系统信息
getSystemInfo()

// 导出系统信息
exportSystemInfo()

// 清理所有数据
cleanupSystem()

// 生成模拟数据
generateMockData()

// 刷新驾驶舱
refreshDashboard()
```

### 数据导出
- 支持导出系统信息为JSON文件
- 支持导出图表为PNG图片
- 支持导出错误日志

## 🚨 注意事项

1. **浏览器兼容性**: 建议使用现代浏览器（Chrome、Firefox、Safari、Edge）
2. **本地存储**: 需要启用localStorage功能
3. **网络连接**: 需要网络连接加载Chart.js库
4. **数据安全**: 所有数据仅存储在本地，不会上传到服务器

## 🆘 故障排除

### 常见问题

**Q: 图表不显示？**
A: 检查网络连接，确保Chart.js库加载成功

**Q: 数据丢失？**
A: 检查浏览器是否支持localStorage，或尝试刷新页面

**Q: 页面显示异常？**
A: 清除浏览器缓存，或使用无痕模式打开

**Q: 功能无响应？**
A: 打开浏览器控制台查看错误信息

### 技术支持
如遇到问题，请：
1. 查看浏览器控制台错误信息
2. 检查网络连接状态
3. 尝试刷新页面
4. 清除浏览器缓存

## 📈 性能优化

- 使用防抖处理窗口大小变化
- 图表数据缓存机制
- 懒加载和按需渲染
- 内存泄漏防护

## 🔮 未来扩展

- 支持更多图表类型
- 添加数据导入功能
- 实现主题切换
- 增加更多交互功能
- 支持数据导出格式

---

**版本**: 2025.07  
**更新时间**: 2025年1月16日  
**基于**: GB/T 9385-2008规范 